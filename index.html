<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AXONIX</title>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;}

body{
    font-family:'Orbitron',sans-serif;
    background:#050505;
    color:#00ffcc;
    height:100vh;
    overflow:hidden;
}

/* MATRIX CANVAS */
canvas{
    position:fixed;
    top:0;
    left:0;
    width:100%;
    height:100%;
    z-index:-1;
}

/* LOADING SCREEN */
#loading{
    position:fixed;
    width:100%;
    height:100%;
    background:#000;
    display:flex;
    justify-content:center;
    align-items:center;
    font-size:28px;
    letter-spacing:5px;
    animation:fadeOut 3s forwards;
}

@keyframes fadeOut{
    0%{opacity:1;}
    80%{opacity:1;}
    100%{opacity:0;visibility:hidden;}
}

/* LOGIN SCREEN */
#loginScreen{
    position:absolute;
    width:100%;
    height:100%;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    gap:20px;
}

.login-box{
    padding:40px;
    border:1px solid #00ffcc55;
    box-shadow:0 0 30px #00ffcc33;
    backdrop-filter:blur(15px);
}

.login-box h1{
    margin-bottom:20px;
    text-align:center;
    letter-spacing:4px;
}

.login-box input{
    padding:15px;
    width:250px;
    background:#000;
    border:1px solid #00ffcc55;
    color:#00ffcc;
    margin-bottom:15px;
}

.login-box button{
    padding:15px;
    width:100%;
    background:#00ffcc;
    border:none;
    cursor:pointer;
    font-weight:bold;
}

/* CHAT */
#chatApp{
    display:none;
    height:100vh;
    flex-direction:column;
}

header{
    padding:20px;
    text-align:center;
    border-bottom:1px solid #00ffcc33;
    font-size:22px;
    letter-spacing:4px;
    text-shadow:0 0 15px #00ffcc;
}

#chat{
    flex:1;
    padding:20px;
    overflow-y:auto;
    display:flex;
    flex-direction:column;
    gap:15px;
}

.message{
    padding:14px;
    border-radius:12px;
    max-width:70%;
    font-size:14px;
}

.user{
    align-self:flex-end;
    background:#002222;
    border:1px solid #00ffcc44;
}

.bot{
    align-self:flex-start;
    background:#001111;
    border:1px solid #00ffcc33;
}

.input-area{
    display:flex;
    border-top:1px solid #00ffcc33;
}

.input-area input{
    flex:1;
    padding:18px;
    background:#000;
    border:none;
    color:#00ffcc;
}

.input-area button{
    width:120px;
    background:#00ffcc;
    border:none;
    cursor:pointer;
    font-weight:bold;
}
</style>
</head>

<body>

<canvas id="matrix"></canvas>

<div id="loading">INITIALIZING AXONIX...</div>

<div id="loginScreen">
    <div class="login-box">
        <h1>AXONIX</h1>
        <input type="password" id="accessCode" placeholder="ENTER ACCESS CODE">
        <button onclick="enterSystem()">ACCESS</button>
    </div>
</div>

<div id="chatApp">
    <header>AXONIX SYSTEM</header>
    <div id="chat"></div>
    <div class="input-area">
        <input type="text" id="userInput" placeholder="Type command...">
        <button onclick="sendMessage()">EXECUTE</button>
    </div>
</div>

<script>

/* ------------------ MATRIX EFFECT ------------------ */
const canvas=document.getElementById("matrix");
const ctx=canvas.getContext("2d");
canvas.height=window.innerHeight;
canvas.width=window.innerWidth;

const letters="01AXONIX";
const fontSize=14;
const columns=canvas.width/fontSize;
const drops=[];
for(let x=0;x<columns;x++) drops[x]=1;

function draw(){
    ctx.fillStyle="rgba(0,0,0,0.05)";
    ctx.fillRect(0,0,canvas.width,canvas.height);
    ctx.fillStyle="#00ffcc";
    ctx.font=fontSize+"px monospace";
    for(let i=0;i<drops.length;i++){
        const text=letters.charAt(Math.floor(Math.random()*letters.length));
        ctx.fillText(text,i*fontSize,drops[i]*fontSize);
        if(drops[i]*fontSize>canvas.height && Math.random()>0.975) drops[i]=0;
        drops[i]++;
    }
}
setInterval(draw,35);

/* ------------------ LOGIN ------------------ */
function enterSystem(){
    const code=document.getElementById("accessCode").value;
    if(code==="Axonix2026"){
        document.getElementById("loginScreen").style.display="none";
        document.getElementById("chatApp").style.display="flex";
    }else{
        alert("ACCESS DENIED");
    }
}

/* ------------------ SOUND ------------------ */
const audio=new Audio("https://www.soundjay.com/mechanical/keyboard-1.mp3");

/* ------------------ TYPEWRITER EFFECT ------------------ */
function typeWriter(element,text,i=0){
    if(i<text.length){
        element.textContent+=text.charAt(i);
        audio.play();
        setTimeout(()=>typeWriter(element,text,i+1),30);
    }
}

/* ------------------ HUGGING FACE API TOKEN ------------------ */
const HUGGINGFACE_API_TOKEN = "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"; // <--- حط التوكن هنا

/* ------------------ CHAT ------------------ */
async function sendMessage(){
    const input=document.getElementById("userInput");
    const chat=document.getElementById("chat");
    if(input.value.trim()==="") return;

    // رسالة المستخدم
    const userMsg=document.createElement("div");
    userMsg.className="message user";
    userMsg.textContent=input.value;
    chat.appendChild(userMsg);

    // رسالة AXONIX
    const botMsg=document.createElement("div");
    botMsg.className="message bot";
    chat.appendChild(botMsg);

    input.value="";
    chat.scrollTop=chat.scrollHeight;

    try{
        const response = await fetch("https://api-inference.huggingface.co/models/gpt2", {
            method: "POST",
            headers: {
                "Authorization": `Bearer ${HUGGINGFACE_API_TOKEN}`,
                "Content-Type": "application/json"
            },
            body: JSON.stringify({ inputs: userMsg.textContent })
        });

        const data = await response.json();
        const replyText = data[0]?.generated_text || "AXONIX READY.";

        typeWriter(botMsg, replyText);

    }catch(err){
        typeWriter(botMsg,"ERROR: Could not connect to AI.");
        console.error(err);
    }
}

</script>

</body>
</html>